<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°˜ë„ì²´ íšŒë¡œ ìˆ˜ë¦¬ ë¯¸ë‹ˆê²Œì„</title>
    <style>
        /* CSS ì‹œì‘ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #222; /* ì–´ë‘ìš´ ê¸°ìˆ ì ì¸ ë°°ê²½ìƒ‰ */
            margin: 0;
            font-family: 'Consolas', 'Courier New', monospace; /* í„°ë¯¸ë„ ëŠë‚Œì˜ í°íŠ¸ */
            color: #eee; /* ë°ì€ ê¸€ììƒ‰ */
            overflow: hidden; /* íŒì—…ìœ¼ë¡œ ì¸í•´ ìŠ¤í¬ë¡¤ ìƒê¸°ëŠ” ê²ƒ ë°©ì§€ */
        }

        .game-container {
            background-color: #333; /* ì–´ë‘ìš´ íŒ¨ë„ ëŠë‚Œ */
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.4); /* ë°ì€ ë…¹ìƒ‰ ë¹› ê·¸ë¦¼ì */
            text-align: center;
            border: 2px solid #0f0; /* ë°ì€ ë…¹ìƒ‰ í…Œë‘ë¦¬ */
        }

        h1 {
            color: #00ff00; /* ë„¤ì˜¨ ë…¹ìƒ‰ ì œëª© */
            margin-bottom: 30px;
            font-size: 2.2em;
            text-shadow: 0 0 10px #00ff00; /* ì œëª© ë¹› íš¨ê³¼ */
        }

        .wire-board {
            display: flex;
            justify-content: space-around;
            width: 500px; /* ë³´ë“œ ë„ˆë¹„ ì¦ê°€ */
            height: 300px; /* ë³´ë“œ ë†’ì´ ì¦ê°€ */
            margin: 0 auto 40px auto; /* ì¤‘ì•™ ì •ë ¬ ë° ì—¬ë°± */
            position: relative;
            background: linear-gradient(45deg, #444 0%, #555 50%, #444 100%); /* ê¸ˆì† ì§ˆê° */
            border: 3px solid #555;
            border-radius: 8px;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.7); /* ì•ˆìª½ ê·¸ë¦¼ì */
        }

        .wire-column {
            display: flex;
            flex-direction: column;
            gap: 30px; /* ê°„ê²© ì¦ê°€ */
            width: 40%;
            justify-content: space-around; /* ìš”ì†Œë“¤ì„ ê· ë“±í•˜ê²Œ ë¶„ë°° */
            padding: 20px 0; /* ìƒí•˜ íŒ¨ë”© ì¶”ê°€ */
        }

        .wire-end {
            width: 70px; /* í¬ê¸° ì¦ê°€ */
            height: 35px; /* í¬ê¸° ì¦ê°€ */
            border-radius: 3px; /* ì‚¬ê°í˜•ì— ê°€ê¹Œìš´ ë‹¨ì í˜•íƒœ */
            cursor: pointer;
            border: 2px solid #999; /* ë‹¨ì í…Œë‘ë¦¬ ìƒ‰ìƒ */
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #fff; /* ë‹¨ì ì•ˆì˜ ê¸€ììƒ‰ */
            text-shadow: 1px 1px 3px rgba(0,0,0,0.8); /* ê¸€ì ê·¸ë¦¼ì ì§„í•˜ê²Œ */
            transition: all 0.15s ease-in-out; /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
            box-shadow: inset 0 0 8px rgba(255,255,255,0.2); /* ë‹¨ì ì•ˆìª½ ë¹› íš¨ê³¼ */
            font-size: 1.5em; /* ì´ëª¨í‹°ì½˜ í¬ê¸° ì¡°ì • */
        }

        .wire-end:hover {
            transform: translateY(-2px) scale(1.05); /* ì‚´ì§ ë– ì˜¤ë¥´ëŠ” íš¨ê³¼ */
            box-shadow: inset 0 0 10px rgba(255,255,255,0.4), 0 0 15px rgba(255,255,255,0.3); /* ì£¼ë³€ ë¹› íš¨ê³¼ */
        }

        .wire-end.selected {
            border: 3px solid #ffcc00; /* ì„ íƒëœ ì „ì„  í…Œë‘ë¦¬ */
            box-shadow: inset 0 0 15px rgba(255,255,0,0.7), 0 0 20px rgba(255,255,0,0.5); /* ì„ íƒ ì‹œ ë” ê°•í•œ ë¹› íš¨ê³¼ */
            transform: scale(1.08);
        }

        /* ì™„ë£Œëœ ë‹¨ì/í¬íŠ¸ ë¹› íš¨ê³¼ */
        .wire-end.correct-connection-glow {
            animation: glow-pulse 1.5s infinite alternate;
            border-color: #00ff00; /* í…Œë‘ë¦¬ë„ ë¹›ë‚˜ê²Œ */
        }

        @keyframes glow-pulse {
            from {
                box-shadow: inset 0 0 8px rgba(0,255,0,0.2), 0 0 10px rgba(0,255,0,0.5);
                text-shadow: 1px 1px 3px rgba(0,0,0,0.8), 0 0 5px rgba(0,255,0,0.7);
            }
            to {
                box-shadow: inset 0 0 20px rgba(0,255,0,0.7), 0 0 30px rgba(0,255,0,1);
                text-shadow: 1px 1px 3px rgba(0,0,0,0.8), 0 0 15px rgba(0,255,0,1);
            }
        }


        /* ì „ì„  ìƒ‰ìƒ (ì´ë¯¸ì§€ì— ë§ê²Œ ìœ ì§€) */
        .color-1 { background-color: #00A600; } /* ë…¹ìƒ‰ */
        .color-2 { background-color: #0000CC; } /* íŒŒë‘ */
        .color-3 { background-color: #CCCC00; } /* ë…¸ë‘ */
        .color-4 { background-color: #E60000; } /* ë¹¨ê°• */

        /* ì˜¤ë¥¸ìª½ ì „ì„  ìƒ‰ìƒ (ì´ë¯¸ì§€ì— ë§ê²Œ ìœ ì§€) */
        .right-color-1 { background-color: #E60000; } /* ë¹¨ê°• */
        .right-color-2 { background-color: #CCCC00; } /* ë…¸ë‘ */
        .right-color-3 { background-color: #0000CC; } /* íŒŒë‘ */
        .right-color-4 { background-color: #00A600; } /* ë…¹ìƒ‰ */

        /* ì—°ê²°ì„  ìŠ¤íƒ€ì¼ */
        .connector-line {
            position: absolute;
            height: 4px; /* ì„  êµµê¸° ì¦ê°€ */
            background-color: #00ff00; /* ë„¤ì˜¨ ë…¹ìƒ‰ (ê¸°ë³¸ê°’) */
            z-index: -1;
            opacity: 0.8; /* ì•½ê°„ì˜ íˆ¬ëª…ë„ */
            box-shadow: 0 0 8px #00ff00; /* ì„ ì— ë¹› íš¨ê³¼ */
        }

        /* ì •ë‹µ ì—¬ë¶€ì— ë”°ë¥¸ ì„  ìŠ¤íƒ€ì¼ */
        .connector-line.correct {
            opacity: 1; /* ì •ë‹µì¼ ë•Œ ì„ ëª…í•˜ê²Œ */
            background-color: #00ff00; /* í•­ìƒ ë„¤ì˜¨ ë…¹ìƒ‰ìœ¼ë¡œ ìœ ì§€ */
            box-shadow: 0 0 12px #00ff00; /* ì •ë‹µì¼ ë•Œ ë¹›ì„ ë” ê°•í•˜ê²Œ */
        }

        button {
            padding: 12px 25px;
            font-size: 1.2em;
            background-color: #007bff; /* íŒŒë€ìƒ‰ ìœ ì§€ */
            color: white;
            border: 2px solid #0056b3;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            margin-top: 30px; /* ìƒë‹¨ ì—¬ë°± ì¦ê°€ */
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }

        #message {
            margin-top: 25px;
            font-size: 1.3em;
            color: #00ff00; /* ë©”ì‹œì§€ ê¸€ììƒ‰ë„ ë„¤ì˜¨ ë…¹ìƒ‰ìœ¼ë¡œ */
            text-shadow: 0 0 8px rgba(0,255,0,0.5); /* ë©”ì‹œì§€ ë¹› íš¨ê³¼ */
        }

        #message.success {
            color: #00ff00; /* ì„±ê³µ ë©”ì‹œì§€ ìƒ‰ìƒ */
            font-weight: bold;
            animation: pulse 1s infinite alternate; /* ê¹œë¹¡ì´ëŠ” íš¨ê³¼ */
        }

        @keyframes pulse {
            from { text-shadow: 0 0 8px rgba(0,255,0,0.5); }
            to { text-shadow: 0 0 20px rgba(0,255,0,1), 0 0 30px rgba(0,255,0,0.8); }
        }

        /* íŒì—… ìŠ¤íƒ€ì¼ */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* ì–´ë‘ìš´ ë°˜íˆ¬ëª… ë°°ê²½ */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* ìµœìƒìœ„ */
        }

        .popup-content {
            background-color: #333;
            padding: 30px;
            border-radius: 10px;
            border: 2px solid #0f0;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.6);
            text-align: center;
            max-width: 500px;
            color: #eee;
        }

        .popup-content h2 {
            color: #00ff00;
            margin-bottom: 20px;
            text-shadow: 0 0 8px #00ff00;
        }

        .popup-content p {
            margin-bottom: 25px;
            line-height: 1.6;
            font-size: 1.1em;
        }

        .popup-content button {
            background-color: #00aaff;
            border: 2px solid #0077cc;
            font-size: 1.1em;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            color: white;
            transition: background-color 0.2s;
        }

        .popup-content button:hover {
            background-color: #0077cc;
        }
        /* CSS ë */
    </style>
</head>
<body>
    <div class="popup-overlay" id="intro-popup">
        <div class="popup-content">
            <h2>ğŸš¨ ì‹œìŠ¤í…œ ì˜¤ë¥˜ ê°ì§€: íšŒë¡œ ìˆ˜ë¦¬ í•„ìš” ğŸš¨</h2>
            <p>í™˜ì˜í•©ë‹ˆë‹¤, ì—”ì§€ë‹ˆì–´! ğŸš€ ì‹œìŠ¤í…œì— ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ëª¨ë“  ì „ì› ë‹¨ìê°€ ë¹„í™œì„±í™”ëœ ìƒíƒœì…ë‹ˆë‹¤.</p>
            <p>ë‹¹ì‹ ì˜ ì„ë¬´ëŠ” ì™¼ìª½ì˜ **ì…ë ¥ ë‹¨ì**ì™€ ì˜¤ë¥¸ìª½ì˜ **ì¶œë ¥ í¬íŠ¸**ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì—°ê²°í•˜ì—¬ ì‹œìŠ¤í…œì„ ë³µêµ¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ğŸ§©</p>
            <p>ê°™ì€ ìƒ‰ìƒì˜ ë‹¨ìì™€ í¬íŠ¸ë¥¼ ì—°ê²°í•˜ë©´ ë©ë‹ˆë‹¤. ì—°ê²°ì´ ì™„ë£Œë˜ë©´ ì‹œìŠ¤í…œì´ ì¬í™œì„±í™”ë©ë‹ˆë‹¤. í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! âœ¨</p>
            <button id="start-game-button">ìˆ˜ë¦¬ ì‹œì‘</button>
        </div>
    </div>

    <div class="game-container">
        <h1>ë°˜ë„ì²´ íšŒë¡œ ìˆ˜ë¦¬ ë¯¸ë‹ˆê²Œì„</h1>
        <div class="wire-board">
            <div id="left-wires" class="wire-column"></div>
            <div id="right-wires" class="wire-column"></div>
        </div>
        <button id="reset-button">ì‹œìŠ¤í…œ ì¬ë¶€íŒ…</button>
        <p id="message"></p>
    </div>

    <script>
        // JavaScript ì‹œì‘
        document.addEventListener('DOMContentLoaded', () => {
            const leftWireContainer = document.getElementById('left-wires');
            const rightWireContainer = document.getElementById('right-wires');
            const resetButton = document.getElementById('reset-button');
            const messageDisplay = document.getElementById('message');
            const wireBoard = document.querySelector('.wire-board');
            const introPopup = document.getElementById('intro-popup');
            const startGameButton = document.getElementById('start-game-button');

            const numWires = 4;
            const leftColorsMapping = {
                0: 'color-1', // 1ë²ˆ ë…¹ìƒ‰
                1: 'color-2', // 2ë²ˆ íŒŒë€ìƒ‰
                2: 'color-3', // 3ë²ˆ ë…¸ë€ìƒ‰
                3: 'color-4'  // 4ë²ˆ ë¹¨ê°„ìƒ‰
            };
            const rightColorsMapping = {
                0: 'right-color-1', // 1ë²ˆ ë¹¨ê°„ìƒ‰
                1: 'right-color-2', // 2ë²ˆ ë…¸ë€ìƒ‰
                2: 'right-color-3', // 3ë²ˆ íŒŒë€ìƒ‰
                3: 'right-color-4'  // 4ë²ˆ ë…¹ìƒ‰
            };

            const leftEmojis = ['âš¡', 'ğŸ’¡', 'ğŸ”—', 'âš™ï¸'];
            const rightEmojis = ['ğŸ”Œ', 'ğŸ”‹', 'ğŸ“¡', 'ğŸ–¥ï¸'];

            let leftWires = [];
            let rightWires = [];
            let selectedLeftWire = null;
            let connections = {}; // {leftWireIndex: {element: rightWireElement, line: lineElement}}
            let solution = {};

            // ê²Œì„ ë³´ë“œ ì´ˆê¸°í™” ë° ì „ì„  ìƒì„± í•¨ìˆ˜
            // ì´ í•¨ìˆ˜ëŠ” ê²Œì„ ìš”ì†Œ ìƒì„± ë° ì´ˆê¸° ìƒíƒœ ì„¤ì •ë§Œ ë‹´ë‹¹í•©ë‹ˆë‹¤.
            // ì‹¤ì œ ê²Œì„ ì‹œì‘(í´ë¦­ ì´ë²¤íŠ¸ í™œì„±í™”)ì€ íŒì—… í›„ì— ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
            function initGameElements() {
                // ê¸°ì¡´ ì „ì„  ë° ì—°ê²°ì„  ì œê±°
                leftWireContainer.innerHTML = '';
                rightWireContainer.innerHTML = '';
                const existingLines = document.querySelectorAll('.connector-line');
                existingLines.forEach(line => line.remove());

                messageDisplay.textContent = ''; // ì´ˆê¸° ë©”ì‹œì§€ëŠ” íŒì—…ì— ì˜í•´ ê°€ë ¤ì§€ë¯€ë¡œ ë¹„ì›Œë‘¡ë‹ˆë‹¤.
                messageDisplay.className = '';
                selectedLeftWire = null;
                connections = {};
                solution = {};

                leftWires = [];
                rightWires = [];

                // ì™¼ìª½ ë‹¨ì ìƒì„± (ìˆ«ì ì—†ì´ ì´ëª¨í‹°ì½˜ ì‚¬ìš©)
                for (let i = 0; i < numWires; i++) {
                    const wireEnd = document.createElement('div');
                    wireEnd.classList.add('wire-end', leftColorsMapping[i]);
                    wireEnd.dataset.index = i;
                    wireEnd.dataset.color = leftColorsMapping[i];
                    wireEnd.textContent = leftEmojis[i];
                    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” ê²Œì„ ì‹œì‘ ì‹œì—ë§Œ ì¶”ê°€ (activeGame í•¨ìˆ˜ì—ì„œ)
                    leftWireContainer.appendChild(wireEnd);
                    leftWires.push(wireEnd);
                }

                // ì˜¤ë¥¸ìª½ í¬íŠ¸ ìƒì„± (ìˆ«ì ì—†ì´ ì´ëª¨í‹°ì½˜ ì‚¬ìš©)
                for (let i = 0; i < numWires; i++) {
                    const wireEnd = document.createElement('div');
                    wireEnd.classList.add('wire-end', rightColorsMapping[i]);
                    wireEnd.dataset.index = i;
                    wireEnd.dataset.color = rightColorsMapping[i];
                    wireEnd.textContent = rightEmojis[i];
                    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” ê²Œì„ ì‹œì‘ ì‹œì—ë§Œ ì¶”ê°€ (activeGame í•¨ìˆ˜ì—ì„œ)
                    rightWireContainer.appendChild(wireEnd);
                    rightWires.push(wireEnd);
                }

                // ì •ë‹µ ì„¤ì • (ê° ì™¼ìª½ ì „ì„ ì˜ ìƒ‰ê¹”ì— ë§ëŠ” ì˜¤ë¥¸ìª½ ì „ì„ ì˜ ì¸ë±ìŠ¤)
                solution[0] = rightWires.findIndex(wire => wire.dataset.color === 'right-color-4'); // ì™¼ìª½ 1(ë…¹) -> ì˜¤ë¥¸ìª½ 4(ë…¹)
                solution[1] = rightWires.findIndex(wire => wire.dataset.color === 'right-color-3'); // ì™¼ìª½ 2(íŒŒ) -> ì˜¤ë¥¸ìª½ 3(íŒŒ)
                solution[2] = rightWires.findIndex(wire => wire.dataset.color === 'right-color-2'); // ì™¼ìª½ 3(ë…¸) -> ì˜¤ë¥¸ìª½ 2(ë…¸)
                solution[3] = rightWires.findIndex(wire => wire.dataset.color === 'right-color-1'); // ì™¼ìª½ 4(ë¹¨) -> ì˜¤ë¥¸ìª½ 1(ë¹¨)

                console.log("Solution:", solution); // ë””ë²„ê¹…ìš©
            }

            // ê²Œì„ì„ í™œì„±í™”í•˜ëŠ” í•¨ìˆ˜ (í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ë“±)
            function activateGame() {
                messageDisplay.textContent = 'íšŒë¡œ ì—°ê²°ì„ ì‹œì‘í•˜ì„¸ìš”!'; // ê²Œì„ ì‹œì‘ ë©”ì‹œì§€
                leftWires.forEach(wire => wire.addEventListener('click', () => selectLeftWire(wire)));
                rightWires.forEach(wire => wire.addEventListener('click', () => connectWires(wire)));
            }

            // ì™¼ìª½ ë‹¨ì ì„ íƒ
            function selectLeftWire(wireElement) {
                // ì´ì „ì— ì„ íƒëœ ì „ì„ ì´ ìˆë‹¤ë©´ ì„ íƒ í•´ì œ
                if (selectedLeftWire) {
                    selectedLeftWire.classList.remove('selected');
                }
                selectedLeftWire = wireElement;
                selectedLeftWire.classList.add('selected');
            }

            // ë‹¨ì-í¬íŠ¸ ì—°ê²° ì‹œë„
            function connectWires(rightWireElement) {
                if (!selectedLeftWire) {
                    messageDisplay.textContent = 'ë¨¼ì € ì…ë ¥ ë‹¨ìë¥¼ ì„ íƒí•˜ì„¸ìš”!';
                    return;
                }

                const leftIndex = parseInt(selectedLeftWire.dataset.index);
                const rightIndex = parseInt(rightWireElement.dataset.index);

                // ì´ì „ ì—°ê²°ì´ ìˆë‹¤ë©´ í•´ë‹¹ ë‹¨ìì™€ í¬íŠ¸ì˜ ë¹› íš¨ê³¼ ì œê±° ë° ì„  ì œê±°
                if (connections[leftIndex]) {
                    const oldRightElement = connections[leftIndex].element;
                    const oldLine = connections[leftIndex].line;

                    if (oldRightElement) oldRightElement.classList.remove('correct-connection-glow');
                    selectedLeftWire.classList.remove('correct-connection-glow'); // ì„ íƒëœ ì™¼ìª½ ë‹¨ìì—ì„œë„ ì œê±°
                    if (oldLine) oldLine.remove();
                }

                // ìƒˆë¡œìš´ ì—°ê²° ê¸°ë¡ ë° ì„  ê·¸ë¦¬ê¸°
                const newLine = drawConnection(selectedLeftWire, rightWireElement);
                connections[leftIndex] = {
                    element: rightWireElement,
                    line: newLine
                };

                const isCorrect = (solution[leftIndex] === rightIndex);
                if (isCorrect) {
                    newLine.classList.add('correct');
                    selectedLeftWire.classList.add('correct-connection-glow'); // ì •ë‹µì¼ ë•Œ ë¹› íš¨ê³¼ ì¶”ê°€
                    rightWireElement.classList.add('correct-connection-glow'); // ì •ë‹µì¼ ë•Œ ë¹› íš¨ê³¼ ì¶”ê°€
                } else {
                    newLine.classList.remove('correct');
                    newLine.style.backgroundColor = '#ff0000'; // ì˜¤ë¥˜ ì‹œ ë¶‰ì€ìƒ‰
                    newLine.style.boxShadow = '0 0 12px #ff0000';
                    selectedLeftWire.classList.remove('correct-connection-glow'); // í‹€ë¦¬ë©´ ë¹› íš¨ê³¼ ì œê±°
                    rightWireElement.classList.remove('correct-connection-glow'); // í‹€ë¦¬ë©´ ë¹› íš¨ê³¼ ì œê±°
                }

                selectedLeftWire.classList.remove('selected'); // ì„ íƒ í•´ì œ
                selectedLeftWire = null;

                checkGameCompletion();
            }

            // ì—°ê²°ì„  ê·¸ë¦¬ê¸°
            function drawConnection(startElement, endElement) {
                const startRect = startElement.getBoundingClientRect();
                const endRect = endElement.getBoundingClientRect();
                const boardRect = wireBoard.getBoundingClientRect();

                const startX = startRect.right - boardRect.left;
                const startY = startRect.top + startRect.height / 2 - boardRect.top;
                const endX = endRect.left - boardRect.left;
                const endY = endRect.top + endRect.height / 2 - boardRect.top;

                const line = document.createElement('div');
                line.classList.add('connector-line');
                wireBoard.appendChild(line);

                const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;

                line.style.width = `${length}px`;
                line.style.transform = `rotate(${angle}deg)`;
                line.style.transformOrigin = `0 0`;
                line.style.left = `${startX}px`;
                line.style.top = `${startY}px`;

                return line;
            }

            // ê²Œì„ ì™„ë£Œ í™•ì¸
            function checkGameCompletion() {
                let allCorrect = true;
                for (let i = 0; i < numWires; i++) {
                    if (!connections[i] || solution[i] !== parseInt(connections[i].element.dataset.index)) {
                        allCorrect = false;
                        break;
                    }
                }

                if (allCorrect) {
                    messageDisplay.textContent = 'âœ… ëª¨ë“  íšŒë¡œê°€ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤! ì‹œìŠ¤í…œ ë³µêµ¬ ì™„ë£Œ! ğŸ‰';
                    messageDisplay.classList.add('success');
                    // ëª¨ë“  ì „ì„ ì´ ì—°ê²°ë˜ì—ˆìœ¼ë©´ ë” ì´ìƒ í´ë¦­í•  ìˆ˜ ì—†ê²Œ ë§‰ê¸°
                    leftWires.forEach(wire => wire.removeEventListener('click', selectLeftWire));
                    rightWires.forEach(wire => wire.removeEventListener('click', connectWires));
                } else {
                    messageDisplay.textContent = 'âš ï¸ íšŒë¡œ ì—°ê²° ìƒíƒœë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”. ì˜¤ë¥˜ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.';
                    messageDisplay.classList.remove('success');
                }
            }

            // ì‹œìŠ¤í…œ ì¬ë¶€íŒ… ë²„íŠ¼ í´ë¦­ ì‹œ
            resetButton.addEventListener('click', () => {
                introPopup.style.display = 'flex'; // ì„¤ëª…ì„œ íŒì—… ë‹¤ì‹œ í‘œì‹œ
                // ê²Œì„ ìƒíƒœë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”
                initGameElements(); // ê²Œì„ ìš”ì†Œë§Œ ì´ˆê¸°í™” (ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” ì•„ì§ ì¶”ê°€ ì•ˆ ë¨)
                // ëª¨ë“  ë¹› íš¨ê³¼ ë° ì„ íƒ ìƒíƒœ, ë©”ì‹œì§€ ì œê±°
                leftWires.forEach(wire => wire.classList.remove('correct-connection-glow', 'selected'));
                rightWires.forEach(wire => wire.classList.remove('correct-connection-glow'));
                messageDisplay.textContent = '';
                selectedLeftWire = null;
                connections = {}; // ì—°ê²° ì •ë³´ ì´ˆê¸°í™”
            });

            // ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… ë‹«ê³  ê²Œì„ ì‹œì‘
            startGameButton.addEventListener('click', () => {
                introPopup.style.display = 'none'; // íŒì—… ìˆ¨ê¸°ê¸°
                initGameElements(); // ê²Œì„ ìš”ì†Œ ì´ˆê¸°í™” ë° ìƒì„±
                activateGame(); // ê²Œì„ í™œì„±í™” (í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€)
            });

            // í˜ì´ì§€ ë¡œë“œ ì‹œ: ê²Œì„ ìš”ì†ŒëŠ” ì¼ë‹¨ ìƒì„±í•˜ë˜, íŒì—…ì„ ë¨¼ì € ë³´ì—¬ì¤Œ
            initGameElements();
            // ì´ˆê¸°ì—ëŠ” ê²Œì„ì´ ë¹„í™œì„±í™” ìƒíƒœ
            leftWires.forEach(wire => wire.removeEventListener('click', selectLeftWire));
            rightWires.forEach(wire => wire.removeEventListener('click', connectWires));
        });
        // JavaScript ë
    </script>
</body>
</html>s